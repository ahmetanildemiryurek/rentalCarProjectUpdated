<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Start your development with Creative Studio landing page.">
    <meta name="author" content="Devcrud">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <title>İlan Ver</title>

    <!-- Bootstrap + Creative Studio main styles -->
    <link rel="stylesheet" th:href="@{css/creative-studio.css}">

</head>
<body data-spy="scroll" data-target=".navbar" data-offset="40" id="home">

<!-- Page Navigation -->
<nav class="navbar custom-navbar navbar-expand-lg navbar-dark" data-spy="affix" data-offset-top="20">
    <div class="container">
        <a class="navbar-brand" th:href="@{index}">
            <img src="../imgs/logo.png" alt="Demirilik Rental Car">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" th:href="@{loggedInPage}">Ana Sayfa</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{myCars}">Araçlarım</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{advertise}">İlan Ver</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{archive}">Arşiv</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{myAccount}">Hesabım</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{index}">Çıkış Yap</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!-- End Of Page Navigation -->

<!-- Page Header -->
<header class="header">
    <div class="overlay">
        <h1 class="title">DEMİRİLİK RENTAL CAR</h1>
    </div>
</header>
<!-- End Of Page Header -->
<!-- Araç Sorgula -->
<section id="findCar">
    <div class="container">
        <h6 class="section-title mb-5 text-left">Araç İlan Ver</h6>
        <div class="row">
            <div class="col-sm-8 col-md-12">
                <div class="card text-center mb-4">
                    <style>
                        .form-container {
                            max-width: 400px;
                            margin: 0 auto;
                            padding: 20px;
                            border: 1px solid #ccc;
                            border-radius: 5px;
                            background-color: #f8f8f8;
                        }

                        .form-container h2 {
                            text-align: center;
                            margin-bottom: 20px;
                        }

                        .form-container label {
                            display: block;
                            margin-bottom: 10px;
                            font-weight: bold;
                        }

                        .form-container input[type="text"],
                        .form-container input[type="number"] {
                            width: 100%;
                            padding: 10px;
                            margin-bottom: 20px;
                            border: 1px solid #ccc;
                            border-radius: 4px;
                            box-sizing: border-box;
                        }

                        .form-container input[type="checkbox"] {
                            margin-top: 10px;
                        }

                        .form-container button[type="submit"] {
                            width: 100%;
                            padding: 10px;
                            border: none;
                            border-radius: 4px;
                            background-color: #4caf50;
                            color: white;
                            font-weight: bold;
                            cursor: pointer;
                        }
                    </style>

                    <div class="form-container">
                        <h2>Araç İlanı Ver</h2>
                        <form id="carForm">
                            <div>
                                <label for="carOwner">Araba Sahibi:</label>
                                <input type="text" id="carOwner" name="carOwner" required>
                            </div>
                            <div>
                                <label for="brand">Marka:</label>
                                <input type="text" id="brand" name="brand" required>
                            </div>
                            <div>
                                <label for="model">Model:</label>
                                <input type="text" id="model" name="model" required>
                            </div>
                            <div>
                                <label for="fuelType">Yakıt Türü:</label>
                                <input type="text" id="fuelType" name="fuelType" required>
                            </div>
                            <div>
                                <label for="segment">Segment:</label>
                                <input type="text" id="segment" name="segment" required>
                            </div>
                            <div>
                                <label for="capacity">Kapasite:</label>
                                <input type="number" id="capacity" name="capacity" required>
                            </div>
                            <div>
                                <label for="vehicleType">Araç Türü:</label>
                                <input type="text" id="vehicleType" name="vehicleType" required>
                            </div>
                            <div>
                                <label for="isActive">Aktif:</label>
                                <input type="checkbox" id="isActive" name="isActive">
                            </div>
                            <div>
                                <label for="amount">Fiyat:</label>
                                <input type="number" id="amount" name="amount" required>
                            </div>
                            <div>
                                <label for="imgURL">Resim URL'si:</label>
                                <input type="text" id="imgURL" name="imgURL" required>
                            </div>
                            <button type="submit">Araç İlanı Ver</button>
                        </form>
                    </div>

                    <script>
                        document.getElementById("carForm").addEventListener("submit", function(event) {
                            event.preventDefault(); // Formun otomatik olarak gönderilmesini engelle

                            // Formdaki verileri al
                            const carData = {
                                id: 123, // İsteğe bağlı olarak id değeri değiştirilebilir veya sunucudan otomatik atanabilir
                                carOwner: document.getElementById("carOwner").value,
                                brand: document.getElementById("brand").value,
                                model: document.getElementById("model").value,
                                fuelType: document.getElementById("fuelType").value,
                                segment: document.getElementById("segment").value,
                                capacity: parseInt(document.getElementById("capacity").value),
                                vehicleType: document.getElementById("vehicleType").value,
                                isActive: document.getElementById("isActive").checked,
                                amount: parseFloat(document.getElementById("amount").value),
                                imgURL: document.getElementById("imgURL").value
                            };

                            postCar(carData);
                        });

                        function postCar(carData) {
                            fetch("/car/postCar", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify(carData),
                            })
                                .then(response => response.json())
                                .then(data => {
                                    console.log("Araç ilanı başarıyla verildi:", data);
                                    // İşlemlerinizi burada gerçekleştirin
                                })
                                .catch(error => {
                                    console.error("Araç ilanı verme hatası:", error);
                                    // Hata durumunda yapılacak işlemleri buraya ekleyin
                                });
                        }
                        function showAttentionMessage(message) {
                            const attentionElement = document.createElement("div");
                            attentionElement.classList.add("attention");
                            attentionElement.innerText = message;
                            document.body.appendChild(attentionElement);

                            // 3 saniye sonra attention elementini kaldır
                            setTimeout(() => {
                                attentionElement.remove();
                            }, 3000);
                        }
                    </script>


                </div>
            </div>
        </div>
    </div>
</section>



<section class="has-bg-img py-0">
    <div class="container">
        <div class="footer">
            <div class="footer-lists">
                <ul class="list">
                    <li class="list-head">
                        <h6 class="font-weight-bold">Hakkımızda</h6>
                    </li>
                    <li class="list-body">
                        <a href="#" class="logo">
                            <img src="../imgs/logo.png" alt="Demirilik Rental Car Logo">
                            <h6>Demirilik Rental Car</h6>
                        </a>
                        <p>2022 Yılı itibariyle ilimiz Elazığ'da faaliyet göstermeye başlamış bulunmaktayız.</p>
                        <p class="mt-3">
                            Copyright <script>document.write(new Date().getFullYear())</script> &copy; <a class="d-inline text-primary" href="index.html">Demirilik Rental Car</a>
                        </p>
                    </li>
                </ul>
                <ul class="list">
                    <li class="list-head">
                        <h6 class="font-weight-bold">Faydalı Linkler</h6>
                    </li>
                    <li class="list-body">
                        <div class="row">
                            <div class="col">
                                <a href="#about">Hakkımızda</a>
                            </div>
                            <div class="col">
                                <a href="#team">Ekibimiz</a>
                                <a href="#">SSS</a>
                                <a href="#">Gizlilik Politikası</a>
                            </div>
                        </div>
                    </li>
                </ul>
                <ul class="list">
                    <li class="list-head">
                        <h6 class="font-weight-bold">İletişim Bilgileri</h6>
                    </li>
                    <li class="list-body">
                        <p>Bize Ulaşın 24 Saat İçinde Size Dönelim ! </p>
                        <p><i class="ti-location-pin"></i> Elazığ / Merkez</p>
                        <p><i class="ti-email"></i> www.demirilik.com</p>
                        <div class="social-links">
                            <a href="javascript:void(0)" class="link"><i class="ti-facebook"></i></a>
                            <a href="javascript:void(0)" class="link"><i class="ti-twitter-alt"></i></a>
                            <a href="javascript:void(0)" class="link"><i class="ti-google"></i></a>
                            <a href="javascript:void(0)" class="link"><i class="ti-pinterest-alt"></i></a>
                            <a href="javascript:void(0)" class="link"><i class="ti-instagram"></i></a>
                            <a href="javascript:void(0)" class="link"><i class="ti-rss"></i></a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- core  -->
<script src="assets/vendors/jquery/jquery-3.4.1.js"></script>
<script src="assets/vendors/bootstrap/bootstrap.bundle.js"></script>

<!-- bootstrap affix -->
<script src="assets/vendors/bootstrap/bootstrap.affix.js"></script>

<!-- Creative Studio js -->
<script src="assets/js/creative-studio.js"></script>

</body>
</html>
